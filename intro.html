<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale = 1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>Liberty</title>
    <link rel="stylesheet" href="bower_components/animate.css/animate.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<style>
    .production-title:before, .wedding-title:before {
        content: "";
        position: absolute;
        width: 100%;
        height: 3px;
        bottom: 0;
        left: 0;
        background: #66FAF9;
        visibility: hidden;
        border-radius: 5px;
        transform: scaleX(0);
        transition: .25s linear;
    }
    .production-title.hover:before,
    .production-title.hover:before,
    .wedding-title.hover:before,
    .wedding-title.hover:before {
        visibility: visible;
        transform: scaleX(1);
    }

    body {
        overflow: hidden;
    }
    .intro-title {
        position: absolute;
        line-height: 12vh;
        z-index: 10;
    }

    .intro-title a {
        text-decoration: none;
        color: inherit;
    }

    .production-title {
        right: 74%;
        top: 20%;
        font-size: 7vh;
    }

    .wedding-title {
        left: 72%;
        bottom: 30%;
        font-size: 15vh;
        width: 21%;
    }

    @media (max-width: 1024px) {
        .intro-title {
            text-align: center;
            position: absolute;
            left: 0;
            width: 100%;
        }
        .production-title {
            top: 10%;
            width: 100%;
        }
        .wedding-title {
            bottom: 7%;
        }
    }

    @media (max-width: 767px) {
        .stroke {
            width: 10px;
        }
    }
</style>
<body>
<img class="feather-img opacity-0 feather-img-bg-top" src="assets/img/feather_top_bg.jpg" alt="">
<div class="intro-title production-title opacity-0"><a href="www">Production</a></div>
<img class="feather-img opacity-0 feather-img-bg-bottom" src="assets/img/feather_bottom_bg.jpg" alt="">
<div class="intro-title wedding-title opacity-0" style=""><a href="rrr">Wedding</a></div>
<img class="opacity-0" id="stroke-img" src="assets/img/feather_stroke.png" alt="" usemap="#strokemap">
<map name="strokemap">
    <area id="top-feather-area" href="111" coords="5,4,152,19,356,99,583,229,771,407,964,669,1104,978,308,1788,181,1610,68,1299,12,961,3,604" shape="poly">
    <area id="bottom-feather-area" href="222" coords="311,1741,627,1993,781,2020,1525,2025,1820,2004,1947,1933,1997,1845,1998,1686,1870,1456,1692,1244,1547,1120,1059,982" shape="poly">
</map>
<span class="stroke"></span>
<script src="bower_components/jquery/dist/jquery.min.js" type="text/javascript"></script>
<script src="bower_components/jquery-ui/jquery-ui.js" type="text/javascript"></script>
<script src="bower_components/QTransform/QTransform.js" type="text/javascript"></script>
<script src="bower_components/jQuery-rwdImageMaps/jquery.rwdImageMaps.min.js" type="text/javascript"></script>
<script type="text/javascript">
    document.addEventListener('touchstart', function(e) {
        startX = e.changedTouches[0].pageX;
    }, { passive: false });
    document.addEventListener('touchmove', function(e) {
            if ( event.touches.length == 1 ) {
                curX = event.touches[0].pageX;
                if(Math.abs((curX-startX))>10){
                    event.preventDefault();
                }
            }
        }, { passive: false });
    $(document).ready(function () {
        $('img[usemap]').rwdImageMaps();
        container = $(window);
        container_w = container.width();
        container_h = container.height();
        featherTop = $('.feather-img-bg-top');
        featherBottom = $('.feather-img-bg-bottom');
        topFeatherArea = $('#top-feather-area');
        bottomFeatherArea = $('#bottom-feather-area');
        productionTitle = $('.production-title');
        weddingTitle = $('.wedding-title');
        stroke = $('.stroke');
        strokeImg = $('#stroke-img');
        effects_elem_arr = [
            [ productionTitle, topFeatherArea, featherTop ],
            [ weddingTitle, bottomFeatherArea, featherBottom ]
        ];
        effects_elem_arr.forEach(function (val) {
            val[0].delay(2000).queue(function () {
                anim_effect = effects_elem_arr.indexOf(val)===0 ? 'bounceInLeft' : 'bounceInRight';
                $(this).addClass('opacity-1 animated ' + anim_effect + '').dequeue();
            });
            val[0].add(val[1])
                .mouseenter(function () { $(val[0]).toggleClass('hover')})
                .mouseleave(function () { $(val[0]).toggleClass('hover')});
            val[1].mousemove(function (e) {
                pos_x = e.pageX;
                pos_y = e.pageY;
                left_pos = container_w / 2 - pos_x;
                top_pos = container_h / 2 - pos_y;
                val[2].animate({
                    translateX: -left_pos / 100 - 50 + '%',
                    translateY: -top_pos / 100 - 50 + '%',
                    '-webkit-mask-position-x': left_pos / 50 + 50 + '%',
                    '-webkit-mask-position-y': top_pos / 10 + 50 + '%',
                    'mask-position-x': left_pos / 50 + 50 + '%',
                    'mask-position-y': top_pos / 10 + 50 + '%'
                }, {duration: 0})
            });
        });
        stroke.animate({'height' : strokeImg.height() + 'px'}, 1500, 'swing', function () {
            if (container_w <= 1024) {
                stroke.animate({'height': '50%'}, 1500);
                strokeImg.css({'height': '50%'});
            }
        });
        featherTop.add(featherBottom).animate({
            '-webkit-mask-position-x': '50%',
            '-webkit-mask-position-y': '50%',
            'mask-position-x': '50%',
            'mask-position-y': '50%',
            'opacity' : '1'
        }, 2000);
    })
</script>
</body>
</html>